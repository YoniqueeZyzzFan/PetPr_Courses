{"remainingRequest":"G:\\1WORK\\cockrid34r\\client\\node_modules\\babel-loader\\lib\\index.js!G:\\1WORK\\cockrid34r\\client\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!G:\\1WORK\\cockrid34r\\client\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!G:\\1WORK\\cockrid34r\\client\\src\\components\\CourseMaterials.vue?vue&type=script&lang=js&","dependencies":[{"path":"G:\\1WORK\\cockrid34r\\client\\src\\components\\CourseMaterials.vue","mtime":1660811395919},{"path":"G:\\1WORK\\cockrid34r\\client\\babel.config.js","mtime":1660813200039},{"path":"G:\\1WORK\\cockrid34r\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1660813139587},{"path":"G:\\1WORK\\cockrid34r\\client\\node_modules\\babel-loader\\lib\\index.js","mtime":1660813146986},{"path":"G:\\1WORK\\cockrid34r\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1660813139587},{"path":"G:\\1WORK\\cockrid34r\\client\\node_modules\\vue-loader\\lib\\index.js","mtime":1660813157465}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBjdXJyZW50UGF0aDogd2luZG93LmxvY2F0aW9uLmhhc2gsCiAgICAgIHZpZGVvOiAnJywKICAgICAgY291cnNlTWF0ZXJpYWw6IFtdLAogICAgICBjb25zdHJ1Y3RlZFN0cmluZzogJycsCiAgICAgIGVycm9yTWVzc2FnZTogJycKICAgIH07CiAgfSwKCiAgbWV0aG9kczogewogICAgZ2V0Q291cnNlTWF0ZXJpYWwobW9vY1RpdGxlLCBjb3Vyc2VUaXRsZSkgewogICAgICBjb25zdCBwYXRoID0gYGh0dHA6Ly9sb2NhbGhvc3Q6NTAwMC8ke21vb2NUaXRsZX0vJHtjb3Vyc2VUaXRsZX1gOwogICAgICBjb25zb2xlLmxvZyhwYXRoKTsKICAgICAgYXhpb3MuZ2V0KHBhdGgpLnRoZW4ocmVzID0+IHsKICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwogICAgICAgIHRoaXMuY291cnNlTWF0ZXJpYWwgPSByZXMuZGF0YS5jb3Vyc2VNYXRlcmlhbDsKICAgICAgfSkuY2F0Y2goZXJyb3IgPT4gewogICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZQogICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpOwogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvbm90Zm91bmQnKTsKICAgICAgfSk7CiAgICB9LAoKICAgIGdldFZpZGVvKHdlZWtUaXRsZSwgdmlkZW9UaXRsZSkgewogICAgICBjb25zdCBwYXRoID0gYC4vJHt0aGlzLmNvbnN0cnVjdGVkU3RyaW5nfS8ke3dlZWtUaXRsZX0vJHt2aWRlb1RpdGxlfWA7CgogICAgICBpZiAocGF0aCA9PT0gdGhpcy52aWRlbykgewogICAgICAgIHRoaXMudmlkZW8gPSAnJzsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGNvbnN0IHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpOwogICAgICB4aHIub3BlbignSEVBRCcsIHBhdGgsIGZhbHNlKTsKICAgICAgeGhyLnNlbmQoKTsKCiAgICAgIGlmICh4aHIuc3RhdHVzID09PSA0MDQpIHsKICAgICAgICB0aGlzLmVycm9yTWVzc2FnZSA9ICdTb3JyeSwgdmlkZW8gaXMgbm90IGZvdW5kJzsKICAgICAgICB0aGlzLnZpZGVvID0gJyc7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy52aWRlbyA9IHBhdGg7CiAgICAgICAgdGhpcy5lcnJvck1lc3NhZ2UgPSAnJzsKICAgICAgfQogICAgfQoKICB9LAoKICBjcmVhdGVkKCkgewogICAgdGhpcy5jb25zdHJ1Y3RlZFN0cmluZyA9IGAke3RoaXMuJHJvdXRlLnBhcmFtcy5zaXRlfS8ke3RoaXMuJHJvdXRlLnBhcmFtcy5hY3JvbnltfWA7CiAgICB0aGlzLmdldENvdXJzZU1hdGVyaWFsKHRoaXMuJHJvdXRlLnBhcmFtcy5zaXRlLCB0aGlzLiRyb3V0ZS5wYXJhbXMuYWNyb255bSk7CiAgfQoKfTs="},{"version":3,"mappings":"AAgCA;AAEA;EACAA;IACA;MACAC,iCADA;MAEAC,SAFA;MAGAC,kBAHA;MAIAC,qBAJA;MAKAC;IALA;EAOA,CATA;;EAUAC;IACAC;MACA;MACAC;MACAC,gBACAC,IADA,CACAC;QACAH;QACA;MACA,CAJA,EAKAI,KALA,CAKAC;QACA;QACAL;QACA;MACA,CATA;IAUA,CAdA;;IAeAM;MACA;;MACA;QACA;QACA;MACA;;MACA;MACAC;MACAA;;MACA;QACA;QACA;MACA,CAHA,MAGA;QACA;QACA;MACA;IACA;;EA/BA,CAVA;;EA2CAC;IACA;IACA;EACA;;AA9CA","names":["data","currentPath","video","courseMaterial","constructedString","errorMessage","methods","getCourseMaterial","console","axios","then","res","catch","error","getVideo","xhr","created"],"sourceRoot":"src/components","sources":["CourseMaterials.vue"],"sourcesContent":["<template>\n  <div class=\"container\">\n    <div class=\"row\">\n      <div class=\"col-sm-10\">\n        <h1 class=\"col-md-6 mb-4 wow zoomIn\">MOOCs</h1>\n        <hr><br>\n        <router-link to=\"/\"><button class=\"btn btn-primary\">Вернуться к ресурсам</button></router-link>\n        <div v-if=\"errorMessage\" class=\"alert alert-danger\">{{errorMessage}}</div>\n        <div>\n\t\t<ul class=\"video_move\">\n        <video class=\"embed-responsive-item\"\n        v-if=\"video\" :key=\"video\" controls width=\"500\" height=\"400\">\n        <source :src=\"video\">\n        </video>\n\t\t</ul>\n          <ul role=\"button\" class=\"list-group\">\n            <details open v-for=\"(week, index) in courseMaterial.weeks_info\" :key=\"index\">\n            <summary class=\"btn bg-dark text-white\">{{week.week_title}}</summary>\n                <h2 class=\"list-group\" style=\"padding-left: 24px;\">\n                  <li v-for=\"(video, j) in week.videos\" :key=\"j\">\n                  <button class=\"btn bg-secondary text-white\"\n                  v-on:click=\"getVideo(week.week_title, video)\"> {{ video }} </button></li>\n                </h2>\n            </details>\n          </ul>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script type=\"text/javascript\">\nimport axios from 'axios';\n\nexport default {\n  data() {\n    return {\n      currentPath: window.location.hash,\n      video: '',\n      courseMaterial: [],\n      constructedString: '',\n      errorMessage: '',\n    };\n  },\n  methods: {\n    getCourseMaterial(moocTitle, courseTitle) {\n      const path = `http://localhost:5000/${moocTitle}/${courseTitle}`;\n      console.log(path);\n      axios.get(path)\n        .then((res) => {\n          console.log(res);\n          this.courseMaterial = res.data.courseMaterial;\n        })\n        .catch((error) => {\n          // eslint-disable-next-line\n          console.error(error);\n          this.$router.push('/notfound');\n        });\n    },\n    getVideo(weekTitle, videoTitle) {\n      const path = `./${this.constructedString}/${weekTitle}/${videoTitle}`;\n      if (path === this.video) {\n        this.video = '';\n        return;\n      }\n      const xhr = new XMLHttpRequest();\n      xhr.open('HEAD', path, false);\n      xhr.send();\n      if (xhr.status === 404) {\n        this.errorMessage = 'Sorry, video is not found';\n        this.video = '';\n      } else {\n        this.video = path;\n        this.errorMessage = '';\n      }\n    },\n  },\n  created() {\n    this.constructedString = `${this.$route.params.site}/${this.$route.params.acronym}`;\n    this.getCourseMaterial(this.$route.params.site, this.$route.params.acronym);\n  },\n};\n</script>\n\n<style>\n.video_move {\n  position: absolute;\n  bottom: -55px;\n  left: 580px;\n}\n</style>"]}]}