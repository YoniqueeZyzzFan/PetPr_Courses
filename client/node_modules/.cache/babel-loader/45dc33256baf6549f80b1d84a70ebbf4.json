{"remainingRequest":"G:\\1WORK\\cockrid34r\\client\\node_modules\\babel-loader\\lib\\index.js!G:\\1WORK\\cockrid34r\\client\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!G:\\1WORK\\cockrid34r\\client\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!G:\\1WORK\\cockrid34r\\client\\node_modules\\particles-bg-vue\\src\\particles-bg\\particles\\CobwebParticles.vue?vue&type=script&lang=js&","dependencies":[{"path":"G:\\1WORK\\cockrid34r\\client\\node_modules\\particles-bg-vue\\src\\particles-bg\\particles\\CobwebParticles.vue","mtime":1660813555604},{"path":"G:\\1WORK\\cockrid34r\\client\\babel.config.js","mtime":1660813200039},{"path":"G:\\1WORK\\cockrid34r\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1660813139587},{"path":"G:\\1WORK\\cockrid34r\\client\\node_modules\\babel-loader\\lib\\index.js","mtime":1660813146986},{"path":"G:\\1WORK\\cockrid34r\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1660813139587},{"path":"G:\\1WORK\\cockrid34r\\client\\node_modules\\vue-loader\\lib\\index.js","mtime":1660813157465}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IENhbnZhc0NvbXAgZnJvbSAiLi9DYW52YXNDb21wLnZ1ZSI7CmltcG9ydCBQcm90b24gZnJvbSAicHJvdG9uLWVuZ2luZSI7CmltcG9ydCBSQUZNYW5hZ2VyIGZyb20gInJhZi1tYW5hZ2VyIjsKaW1wb3J0IHsgZ2V0Q29sb3IgfSBmcm9tICIuLi91dGlscy9Db2xvciI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiQ29id2ViUGFydGljbGVzIiwKICBjb21wb25lbnRzOiB7CiAgICBDYW52YXNDb21wCiAgfSwKICBwcm9wczogewogICAgY2FudmFzOiBPYmplY3QsCiAgICBiZzogQm9vbGVhbiwKICAgIGNvbG9yOiBTdHJpbmcsCiAgICBudW06IE51bWJlciwKICAgIGNvbmZpZzoge30KICB9LAogIG1ldGhvZHM6IHsKICAgIGNhbnZhc0luaXRlZChjYW52YXMpIHsKICAgICAgdGhpcy5jcmVhdGVQcm90b24oY2FudmFzKTsKICAgICAgUkFGTWFuYWdlci5hZGQodGhpcy5yZW5kZXJQcm90b24pOwogICAgfSwKCiAgICBjYW52YXNSZXNpemUoewogICAgICB3aWR0aCwKICAgICAgaGVpZ2h0CiAgICB9KSB7CiAgICAgIHRoaXMuY3Jvc3Nab25lQmVoYXZpb3VyLnpvbmUud2lkdGggPSB3aWR0aDsKICAgICAgdGhpcy5jcm9zc1pvbmVCZWhhdmlvdXIuem9uZS5oZWlnaHQgPSBoZWlnaHQ7CiAgICAgIHRoaXMucHJvdG9uLnJlbmRlcmVyc1swXS5yZXNpemUod2lkdGgsIGhlaWdodCk7CiAgICB9LAoKICAgIGNhbnZhc01vdXNlRG93bihlKSB7fSwKCiAgICBjcmVhdGVQcm90b24oY2FudmFzKSB7CiAgICAgIGNvbnN0IHdpZHRoID0gY2FudmFzLndpZHRoOwogICAgICBjb25zdCBoZWlnaHQgPSBjYW52YXMuaGVpZ2h0OwogICAgICB0aGlzLnByb3RvbiA9IG5ldyBQcm90b24oKTsKICAgICAgY29uc3QgZW1pdHRlciA9IG5ldyBQcm90b24uRW1pdHRlcigpOwogICAgICBlbWl0dGVyLnJhdGUgPSBuZXcgUHJvdG9uLlJhdGUodGhpcy5udW0gPyBuZXcgUHJvdG9uLlNwYW4odGhpcy5udW0pIDogbmV3IFByb3Rvbi5TcGFuKDEwMCksIG5ldyBQcm90b24uU3BhbigwLjA1LCAwLjIpKTsKICAgICAgZW1pdHRlci5hZGRJbml0aWFsaXplKG5ldyBQcm90b24uTWFzcygxKSk7CiAgICAgIGVtaXR0ZXIuYWRkSW5pdGlhbGl6ZShuZXcgUHJvdG9uLlJhZGl1cygxLCA0KSk7CiAgICAgIGVtaXR0ZXIuYWRkSW5pdGlhbGl6ZShuZXcgUHJvdG9uLkxpZmUoSW5maW5pdHkpKTsKICAgICAgY29uc3QgcG9pbnRab25lID0gbmV3IFByb3Rvbi5Qb3NpdGlvbihuZXcgUHJvdG9uLlJlY3Rab25lKDAsIDAsIHdpZHRoLCBoZWlnaHQpKTsKICAgICAgZW1pdHRlci5hZGRJbml0aWFsaXplKHBvaW50Wm9uZSk7CiAgICAgIGVtaXR0ZXIuYWRkSW5pdGlhbGl6ZShuZXcgUHJvdG9uLlZlbG9jaXR5KG5ldyBQcm90b24uU3BhbigwLjMsIDAuNiksIG5ldyBQcm90b24uU3BhbigwLCAzNjApLCAicG9sYXIiKSk7CiAgICAgIGVtaXR0ZXIuYWRkQmVoYXZpb3VyKG5ldyBQcm90b24uQWxwaGEoUHJvdG9uLmdldFNwYW4oMC4yLCAwLjkpKSk7CiAgICAgIGVtaXR0ZXIuYWRkQmVoYXZpb3VyKG5ldyBQcm90b24uQ29sb3IodGhpcy5jb2xvciB8fCAiIzMzMyIpKTsKICAgICAgdGhpcy5jcm9zc1pvbmVCZWhhdmlvdXIgPSBuZXcgUHJvdG9uLkNyb3NzWm9uZShuZXcgUHJvdG9uLlJlY3Rab25lKDAsIDAsIHdpZHRoLCBoZWlnaHQpLCAiY3Jvc3MiKTsKICAgICAgZW1pdHRlci5hZGRCZWhhdmlvdXIodGhpcy5jcm9zc1pvbmVCZWhhdmlvdXIpOwogICAgICBlbWl0dGVyLmVtaXQoIm9uY2UiKTsKICAgICAgZW1pdHRlci5kYW1waW5nID0gMDsKICAgICAgdGhpcy5wcm90b24uYWRkRW1pdHRlcihlbWl0dGVyKTsKICAgICAgdGhpcy5wcm90b24uYWRkUmVuZGVyZXIodGhpcy5jcmVhdGVSZW5kZXJlcihjYW52YXMsIGVtaXR0ZXIpKTsKICAgIH0sCgogICAgY3JlYXRlUmVuZGVyZXIoY2FudmFzLCBlbWl0dGVyKSB7CiAgICAgIGNvbnN0IGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgiMmQiKTsKICAgICAgY29uc3QgcmVuZGVyZXIgPSBuZXcgUHJvdG9uLkNhbnZhc1JlbmRlcmVyKGNhbnZhcyk7CiAgICAgIGNvbnN0IFIgPSAxNDA7CgogICAgICByZW5kZXJlci5vblByb3RvblVwZGF0ZUFmdGVyID0gKCkgPT4gewogICAgICAgIGxldCBwYXJ0aWNsZXMgPSBlbWl0dGVyLnBhcnRpY2xlczsKCiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXJ0aWNsZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIGZvciAobGV0IGogPSBpICsgMTsgaiA8IHBhcnRpY2xlcy5sZW5ndGg7IGorKykgewogICAgICAgICAgICBsZXQgcEEgPSBwYXJ0aWNsZXNbaV07CiAgICAgICAgICAgIGxldCBwQiA9IHBhcnRpY2xlc1tqXTsKICAgICAgICAgICAgbGV0IGRpcyA9IHBBLnAuZGlzdGFuY2VUbyhwQi5wKTsKCiAgICAgICAgICAgIGlmIChkaXMgPCBSKSB7CiAgICAgICAgICAgICAgbGV0IGFscGhhID0gKDEgLSBkaXMgLyBSKSAqIDAuNTsKICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gZ2V0Q29sb3IodGhpcy5jb2xvciwgYWxwaGEpIHx8IGByZ2JhKDMsIDMsIDMsICR7YWxwaGF9KWA7CiAgICAgICAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTsKICAgICAgICAgICAgICBjb250ZXh0Lm1vdmVUbyhwQS5wLngsIHBBLnAueSk7CiAgICAgICAgICAgICAgY29udGV4dC5saW5lVG8ocEIucC54LCBwQi5wLnkpOwogICAgICAgICAgICAgIGNvbnRleHQuY2xvc2VQYXRoKCk7CiAgICAgICAgICAgICAgY29udGV4dC5zdHJva2UoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfTsKCiAgICAgIHJldHVybiByZW5kZXJlcjsKICAgIH0sCgogICAgcmVuZGVyUHJvdG9uKCkgewogICAgICB0aGlzLnByb3RvbiAmJiB0aGlzLnByb3Rvbi51cGRhdGUoKTsKICAgIH0KCiAgfSwKCiAgYmVmb3JlRGVzdHJveSgpIHsKICAgIHRyeSB7CiAgICAgIHRoaXMucHJvdG9uLmRlc3Ryb3koKTsKICAgICAgUkFGTWFuYWdlci5yZW1vdmUodGhpcy5yZW5kZXJQcm90b24pOwogICAgfSBjYXRjaCAoZSkge30KICB9Cgp9Ow=="},{"version":3,"mappings":"AAYA;AACA;AACA;AACA;AAEA;EACAA,uBADA;EAEAC;IACAC;EADA,CAFA;EAKAC;IACAC,cADA;IAEAC,WAFA;IAGAC,aAHA;IAIAC,WAJA;IAKAC;EALA,CALA;EAYAC;IACAC;MACA;MACAC;IACA,CAJA;;IAKAC;MAAAC;MAAAC;IAAA;MACA;MACA;MACA;IACA,CATA;;IAUAC,qBAVA;;IAYAC;MACA;MACA;MACA;MAEA;MACAC,+BACA,2DADA,EAEA,0BAFA;MAKAA;MACAA;MACAA;MACA,sCACA,wCADA;MAGAA;MACAA,sBACA,oBACA,yBADA,EAEA,uBAFA,EAGA,OAHA,CADA;MAQAA;MACAA;MACA,+CACA,wCADA,EAEA,OAFA;MAIAA;MAEAA;MACAA;MACA;MACA;IACA,CAlDA;;IAmDAC;MACA;MACA;MACA;;MAEAC;QACA;;QAEA;UACA;YACA;YACA;YACA;;YAEA;cACA;cACAC,sBACAC,wDADA;cAEAD;cACAA;cACAA;cACAA;cACAA;YACA;UACA;QACA;MACA,CArBA;;MAuBA;IACA,CAhFA;;IAiFAE;MACA;IACA;;EAnFA,CAZA;;EAiGAC;IACA;MACA;MACAZ;IACA,CAHA,CAGA;EACA;;AAtGA","names":["name","components","CanvasComp","props","canvas","bg","color","num","config","methods","canvasInited","RAFManager","canvasResize","width","height","canvasMouseDown","createProton","emitter","createRenderer","renderer","context","getColor","renderProton","beforeDestroy"],"sourceRoot":"node_modules/particles-bg-vue/src/particles-bg/particles","sources":["CobwebParticles.vue"],"sourcesContent":["<template>\n  <canvas-comp\n    :bg=\"bg\"\n    :canvas=\"canvas\"\n    global-composite-operation=\"source-over\"\n    v-on:canvasInited=\"canvasInited\"\n    v-on:canvasResize=\"canvasResize\"\n    v-on:canvasMouseDown=\"canvasMouseDown\"\n  />\n</template>\n\n<script>\nimport CanvasComp from \"./CanvasComp.vue\";\nimport Proton from \"proton-engine\";\nimport RAFManager from \"raf-manager\";\nimport { getColor } from \"../utils/Color\";\n\nexport default {\n  name: \"CobwebParticles\",\n  components: {\n    CanvasComp\n  },\n  props: {\n    canvas: Object,\n    bg: Boolean,\n    color: String,\n    num: Number,\n    config: {}\n  },\n  methods: {\n    canvasInited(canvas) {\n      this.createProton(canvas);\n      RAFManager.add(this.renderProton);\n    },\n    canvasResize({ width, height }) {\n      this.crossZoneBehaviour.zone.width = width;\n      this.crossZoneBehaviour.zone.height = height;\n      this.proton.renderers[0].resize(width, height);\n    },\n    canvasMouseDown(e) {},\n\n    createProton(canvas) {\n      const width = canvas.width;\n      const height = canvas.height;\n      this.proton = new Proton();\n\n      const emitter = new Proton.Emitter();\n      emitter.rate = new Proton.Rate(\n        this.num ? new Proton.Span(this.num) : new Proton.Span(100),\n        new Proton.Span(0.05, 0.2)\n      );\n\n      emitter.addInitialize(new Proton.Mass(1));\n      emitter.addInitialize(new Proton.Radius(1, 4));\n      emitter.addInitialize(new Proton.Life(Infinity));\n      const pointZone = new Proton.Position(\n        new Proton.RectZone(0, 0, width, height)\n      );\n      emitter.addInitialize(pointZone);\n      emitter.addInitialize(\n        new Proton.Velocity(\n          new Proton.Span(0.3, 0.6),\n          new Proton.Span(0, 360),\n          \"polar\"\n        )\n      );\n\n      emitter.addBehaviour(new Proton.Alpha(Proton.getSpan(0.2, 0.9)));\n      emitter.addBehaviour(new Proton.Color(this.color || \"#333\"));\n      this.crossZoneBehaviour = new Proton.CrossZone(\n        new Proton.RectZone(0, 0, width, height),\n        \"cross\"\n      );\n      emitter.addBehaviour(this.crossZoneBehaviour);\n\n      emitter.emit(\"once\");\n      emitter.damping = 0;\n      this.proton.addEmitter(emitter);\n      this.proton.addRenderer(this.createRenderer(canvas, emitter));\n    },\n    createRenderer(canvas, emitter) {\n      const context = canvas.getContext(\"2d\");\n      const renderer = new Proton.CanvasRenderer(canvas);\n      const R = 140;\n\n      renderer.onProtonUpdateAfter = () => {\n        let particles = emitter.particles;\n\n        for (let i = 0; i < particles.length; i++) {\n          for (let j = i + 1; j < particles.length; j++) {\n            let pA = particles[i];\n            let pB = particles[j];\n            let dis = pA.p.distanceTo(pB.p);\n\n            if (dis < R) {\n              let alpha = (1 - dis / R) * 0.5;\n              context.strokeStyle =\n                getColor(this.color, alpha) || `rgba(3, 3, 3, ${alpha})`;\n              context.beginPath();\n              context.moveTo(pA.p.x, pA.p.y);\n              context.lineTo(pB.p.x, pB.p.y);\n              context.closePath();\n              context.stroke();\n            }\n          }\n        }\n      };\n\n      return renderer;\n    },\n    renderProton() {\n      this.proton && this.proton.update();\n    }\n  },\n  beforeDestroy() {\n    try {\n      this.proton.destroy();\n      RAFManager.remove(this.renderProton);\n    } catch (e) {}\n  }\n};\n</script>\n"]}]}