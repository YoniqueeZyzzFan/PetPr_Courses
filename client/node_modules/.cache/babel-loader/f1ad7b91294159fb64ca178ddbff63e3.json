{"remainingRequest":"G:\\1WORK\\cockrid34r\\client\\node_modules\\babel-loader\\lib\\index.js!G:\\1WORK\\cockrid34r\\client\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!G:\\1WORK\\cockrid34r\\client\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!G:\\1WORK\\cockrid34r\\client\\node_modules\\particles-bg-vue\\src\\particles-bg\\particles\\ThickParticles.vue?vue&type=script&lang=js&","dependencies":[{"path":"G:\\1WORK\\cockrid34r\\client\\node_modules\\particles-bg-vue\\src\\particles-bg\\particles\\ThickParticles.vue","mtime":1660813555622},{"path":"G:\\1WORK\\cockrid34r\\client\\babel.config.js","mtime":1660813200039},{"path":"G:\\1WORK\\cockrid34r\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1660813139587},{"path":"G:\\1WORK\\cockrid34r\\client\\node_modules\\babel-loader\\lib\\index.js","mtime":1660813146986},{"path":"G:\\1WORK\\cockrid34r\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1660813139587},{"path":"G:\\1WORK\\cockrid34r\\client\\node_modules\\vue-loader\\lib\\index.js","mtime":1660813157465}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IENhbnZhc0NvbXAgZnJvbSAiLi9DYW52YXNDb21wLnZ1ZSI7CmltcG9ydCBQcm90b24gZnJvbSAicHJvdG9uLWVuZ2luZSI7CmltcG9ydCBSQUZNYW5hZ2VyIGZyb20gInJhZi1tYW5hZ2VyIjsKaW1wb3J0IHsgZ2V0Q29sb3IgfSBmcm9tICIuLi91dGlscy9Db2xvciI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiVGhpY2tQYXJ0aWNsZXMiLAogIGNvbXBvbmVudHM6IHsKICAgIENhbnZhc0NvbXAKICB9LAogIHByb3BzOiB7CiAgICBjYW52YXM6IE9iamVjdCwKICAgIGJnOiBCb29sZWFuLAogICAgY29sb3I6IFN0cmluZywKICAgIG51bTogTnVtYmVyLAogICAgY29uZmlnOiB7fQogIH0sCiAgbWV0aG9kczogewogICAgY2FudmFzSW5pdGVkKGNhbnZhcykgewogICAgICB0aGlzLmNhbnZhc0RvbSA9IGNhbnZhczsKICAgICAgdGhpcy5jcmVhdGVQcm90b24oY2FudmFzKTsKICAgICAgUkFGTWFuYWdlci5hZGQodGhpcy5yZW5kZXJQcm90b24pOwoKICAgICAgaWYgKHRoaXMuY29sb3IpIHsKICAgICAgICBjYW52YXMuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gdGhpcy5jb2xvcjsKICAgICAgfQogICAgfSwKCiAgICBjYW52YXNSZXNpemUoewogICAgICB3aWR0aCwKICAgICAgaGVpZ2h0CiAgICB9KSB7CiAgICAgIHRoaXMuY3Jvc3Nab25lQmVoYXZpb3VyLnpvbmUud2lkdGggPSB3aWR0aDsKICAgICAgdGhpcy5jcm9zc1pvbmVCZWhhdmlvdXIuem9uZS5oZWlnaHQgPSBoZWlnaHQ7CiAgICAgIHRoaXMucHJvdG9uLnJlbmRlcmVyc1swXS5yZXNpemUod2lkdGgsIGhlaWdodCk7CiAgICB9LAoKICAgIGNhbnZhc01vdXNlRG93bihlKSB7fSwKCiAgICBjcmVhdGVQcm90b24oY2FudmFzKSB7CiAgICAgIGNvbnN0IHdpZHRoID0gY2FudmFzLndpZHRoOwogICAgICBjb25zdCBoZWlnaHQgPSBjYW52YXMuaGVpZ2h0OwogICAgICB0aGlzLnByb3RvbiA9IG5ldyBQcm90b24oKTsKICAgICAgY29uc3QgZW1pdHRlciA9IG5ldyBQcm90b24uRW1pdHRlcigpOwogICAgICBlbWl0dGVyLmRhbXBpbmcgPSAwLjAwODsKICAgICAgZW1pdHRlci5yYXRlID0gbmV3IFByb3Rvbi5SYXRlKHRoaXMubnVtID8gdGhpcy5udW0gOiAxNTApOyAvLyBJbml0aWFsaXplCgogICAgICBlbWl0dGVyLmFkZEluaXRpYWxpemUobmV3IFByb3Rvbi5NYXNzKDEpKTsKICAgICAgZW1pdHRlci5hZGRJbml0aWFsaXplKG5ldyBQcm90b24uUmFkaXVzKDgpKTsKICAgICAgZW1pdHRlci5hZGRJbml0aWFsaXplKG5ldyBQcm90b24uVihuZXcgUHJvdG9uLlNwYW4oMC4xLCAwLjUpLCBuZXcgUHJvdG9uLlNwYW4oMCwgMzYwKSwgInBvbGFyIikpOwogICAgICBlbWl0dGVyLmFkZEluaXRpYWxpemUobmV3IFByb3Rvbi5Qb3NpdGlvbihuZXcgUHJvdG9uLkNpcmNsZVpvbmUoY2FudmFzLndpZHRoIC8gMiwgY2FudmFzLmhlaWdodCAvIDIsIDEwMCkpKTsgLy8gQmVoYXZpb3VyCgogICAgICBjb25zdCBjcm9zc1pvbmVCZWhhdmlvdXIgPSBuZXcgUHJvdG9uLkNyb3NzWm9uZShuZXcgUHJvdG9uLlJlY3Rab25lKDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCksICJjcm9zcyIpOwogICAgICBlbWl0dGVyLmFkZEJlaGF2aW91cihjcm9zc1pvbmVCZWhhdmlvdXIpOwogICAgICB0aGlzLnJlcHVsc2lvbiA9IG5ldyBQcm90b24uUmVwdWxzaW9uKHsKICAgICAgICB4OiBjYW52YXMud2lkdGggLyAyLAogICAgICAgIHk6IGNhbnZhcy5oZWlnaHQgLyAyIC0gMTAwCiAgICAgIH0sIDMsIDMwMCk7CiAgICAgIHRoaXMuYXR0cmFjdGlvbiA9IG5ldyBQcm90b24uQXR0cmFjdGlvbih7CiAgICAgICAgeDogY2FudmFzLndpZHRoIC8gMiwKICAgICAgICB5OiBjYW52YXMuaGVpZ2h0IC8gMgogICAgICB9LCAzLCAyMDApOwogICAgICBlbWl0dGVyLmFkZEJlaGF2aW91cih0aGlzLmF0dHJhY3Rpb24sIHRoaXMucmVwdWxzaW9uKTsKICAgICAgZW1pdHRlci5hZGRCZWhhdmlvdXIobmV3IFByb3Rvbi5Db2xvcigicmFuZG9tIikpOwogICAgICBlbWl0dGVyLmFkZEJlaGF2aW91cihuZXcgUHJvdG9uLlJhbmRvbURyaWZ0KDIwLCAxNSwgMC4xNSkpOwogICAgICBlbWl0dGVyLmVtaXQoIm9uY2UiKTsKICAgICAgdGhpcy5wcm90b24uYWRkRW1pdHRlcihlbWl0dGVyKTsKICAgICAgdGhpcy5wcm90b24uYWRkUmVuZGVyZXIodGhpcy5jcmVhdGVSZW5kZXJlcihjYW52YXMpKTsKICAgICAgdGhpcy5jcm9zc1pvbmVCZWhhdmlvdXIgPSBjcm9zc1pvbmVCZWhhdmlvdXI7CiAgICB9LAoKICAgIGNyZWF0ZVJlbmRlcmVyKGNhbnZhcykgewogICAgICBjb25zdCBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoIjJkIik7CiAgICAgIGNvbnN0IHJlbmRlcmVyID0gbmV3IFByb3Rvbi5DYW52YXNSZW5kZXJlcihjYW52YXMpOwoKICAgICAgcmVuZGVyZXIub25Qcm90b25VcGRhdGUgPSAoKSA9PiB7CiAgICAgICAgdGhpcy5odWUgKz0gMTsKICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IGdldENvbG9yKHRoaXMuY29sb3IsIDAuMDIpIHx8ICJyZ2JhKDAsIDAsIDAsIDAuMDIpIjsKICAgICAgICBjb250ZXh0LmZpbGxSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7CiAgICAgIH07CgogICAgICByZW5kZXJlci5vblBhcnRpY2xlQ3JlYXRlZCA9IHBhcnRpY2xlID0+IHsKICAgICAgICBwYXJ0aWNsZS5kYXRhLmJlZ2luID0gUHJvdG9uLk1hdGhVdGlsLnJhbmRvbUFUb0IoMSwgMTIwKTsKICAgICAgICBwYXJ0aWNsZS5kYXRhLnRoYSA9IFByb3Rvbi5NYXRoVXRpbC5yYW5kb21BVG9CKDAsIE1hdGguUEkgKiAyKTsKICAgICAgfTsKCiAgICAgIHJlbmRlcmVyLm9uUGFydGljbGVVcGRhdGUgPSBwYXJ0aWNsZSA9PiB7CiAgICAgICAgY29uc3QgaHVlID0gcGFydGljbGUuZGF0YS5iZWdpbiArIHRoaXMuaHVlOwogICAgICAgIHBhcnRpY2xlLmNvbG9yID0gdGhpcy5jb2xvclRlbXBsYXRlLnJlcGxhY2UoImh1ZSIsIGh1ZSAlIDM2MCk7CiAgICAgICAgY29uc3QgcmF0aW8gPSAzIC8gNDsKICAgICAgICBjb25zdCByYWRpdXMgPSBwYXJ0aWNsZS5yYWRpdXMgKiAoMSAtIHJhdGlvKSAqIE1hdGguY29zKHBhcnRpY2xlLmRhdGEudGhhICs9IDAuMDEpICsgcGFydGljbGUucmFkaXVzICogcmF0aW87CiAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTsKICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IHBhcnRpY2xlLmNvbG9yOwogICAgICAgIGNvbnRleHQuYXJjKHBhcnRpY2xlLnAueCwgcGFydGljbGUucC55LCByYWRpdXMsIDAsIE1hdGguUEkgKiAyLCB0cnVlKTsKICAgICAgICBjb250ZXh0LmNsb3NlUGF0aCgpOwogICAgICAgIGNvbnRleHQuZmlsbCgpOwogICAgICB9OwoKICAgICAgcmV0dXJuIHJlbmRlcmVyOwogICAgfSwKCiAgICByZW5kZXJQcm90b24oKSB7CiAgICAgIGNvbnN0IGNhbnZhcyA9IHRoaXMuY2FudmFzRG9tOwogICAgICB0aGlzLnByb3Rvbi51cGRhdGUoKTsKCiAgICAgIGlmICh0aGlzLmluZGV4ICUgMjAwID09PSAwKSB7CiAgICAgICAgdGhpcy5hdHRyYWN0aW9uLnRhcmdldFBvc2l0aW9uLnggPSBNYXRoLnJhbmRvbSgpICogY2FudmFzLndpZHRoOwogICAgICAgIHRoaXMuYXR0cmFjdGlvbi50YXJnZXRQb3NpdGlvbi55ID0gTWF0aC5yYW5kb20oKSAqIGNhbnZhcy5oZWlnaHQ7CiAgICAgICAgdGhpcy5yZXB1bHNpb24udGFyZ2V0UG9zaXRpb24ueCA9IE1hdGgucmFuZG9tKCkgKiBjYW52YXMud2lkdGg7CiAgICAgICAgdGhpcy5yZXB1bHNpb24udGFyZ2V0UG9zaXRpb24ueSA9IE1hdGgucmFuZG9tKCkgKiBjYW52YXMuaGVpZ2h0OwogICAgICB9CgogICAgICB0aGlzLmluZGV4Kys7CiAgICB9CgogIH0sCgogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmh1ZSA9IDA7CiAgICB0aGlzLmluZGV4ID0gMDsKICAgIHRoaXMuY29sb3JUZW1wbGF0ZSA9IGBoc2xhKGh1ZSw4MCUsNTAlLCAwLjc1KWA7CiAgICB0aGlzLnJlbmRlclByb3RvbiA9IHRoaXMucmVuZGVyUHJvdG9uLmJpbmQodGhpcyk7CiAgfSwKCiAgYmVmb3JlRGVzdHJveSgpIHsKICAgIHRyeSB7CiAgICAgIHRoaXMucHJvdG9uLmRlc3Ryb3koKTsKICAgICAgUkFGTWFuYWdlci5yZW1vdmUodGhpcy5yZW5kZXJQcm90b24pOwogICAgfSBjYXRjaCAoZSkge30KICB9Cgp9Ow=="},{"version":3,"mappings":"AAYA;AACA;AACA;AACA;AAEA;EACAA,sBADA;EAEAC;IACAC;EADA,CAFA;EAKAC;IACAC,cADA;IAEAC,WAFA;IAGAC,aAHA;IAIAC,WAJA;IAKAC;EALA,CALA;EAYAC;IACAC;MACA;MACA;MACAC;;MACA;QACAP;MACA;IACA,CARA;;IASAQ;MAAAC;MAAAC;IAAA;MACA;MACA;MACA;IACA,CAbA;;IAcAC,qBAdA;;IAgBAC;MACA;MACA;MACA;MAEA;MACAC;MACAA,0DAPA,CASA;;MACAA;MACAA;MACAA,sBACA,aACA,yBADA,EAEA,uBAFA,EAGA,OAHA,CADA;MAOAA,sBACA,oBACA,+DADA,CADA,EAnBA,CAyBA;;MACA,gDACA,sDADA,EAEA,OAFA;MAIAA;MACA,sCACA;QACAC,mBADA;QAEAC;MAFA,CADA,EAKA,CALA,EAMA,GANA;MASA,wCACA;QACAD,mBADA;QAEAC;MAFA,CADA,EAKA,CALA,EAMA,GANA;MAQAF;MACAA;MACAA;MAEAA;MACA;MACA;MACA;IACA,CAxEA;;IAyEAG;MACA;MACA;;MAEAC;QACA;QACAC;QACAA;MACA,CAJA;;MAMAD;QACAE;QACAA;MACA,CAHA;;MAKAF;QACA;QACAE;QAEA;QACA,eACAA,mBACA,SADA,IAEAC,mCAFA,GAGAD,uBAJA;QAMAD;QACAA;QACAA;QACAA;QACAA;MACA,CAhBA;;MAkBA;IACA,CA3GA;;IA4GAG;MACA;MACA;;MACA;QACA;QACA;QAEA;QACA;MACA;;MAEA;IACA;;EAxHA,CAZA;;EAsIAC;IACA;IACA;IACA;IACA;EACA,CA3IA;;EA4IAC;IACA;MACA;MACAhB;IACA,CAHA,CAGA;EACA;;AAjJA","names":["name","components","CanvasComp","props","canvas","bg","color","num","config","methods","canvasInited","RAFManager","canvasResize","width","height","canvasMouseDown","createProton","emitter","x","y","createRenderer","renderer","context","particle","Math","renderProton","created","beforeDestroy"],"sourceRoot":"node_modules/particles-bg-vue/src/particles-bg/particles","sources":["ThickParticles.vue"],"sourcesContent":["<template>\n  <canvas-comp\n    :bg=\"bg\"\n    :canvas=\"canvas\"\n    global-composite-operation=\"source-over\"\n    v-on:canvasInited=\"canvasInited\"\n    v-on:canvasResize=\"canvasResize\"\n    v-on:canvasMouseDown=\"canvasMouseDown\"\n  />\n</template>\n\n<script>\nimport CanvasComp from \"./CanvasComp.vue\";\nimport Proton from \"proton-engine\";\nimport RAFManager from \"raf-manager\";\nimport { getColor } from \"../utils/Color\";\n\nexport default {\n  name: \"ThickParticles\",\n  components: {\n    CanvasComp\n  },\n  props: {\n    canvas: Object,\n    bg: Boolean,\n    color: String,\n    num: Number,\n    config: {}\n  },\n  methods: {\n    canvasInited(canvas) {\n      this.canvasDom = canvas;\n      this.createProton(canvas);\n      RAFManager.add(this.renderProton);\n      if (this.color) {\n        canvas.style.backgroundColor = this.color;\n      }\n    },\n    canvasResize({ width, height }) {\n      this.crossZoneBehaviour.zone.width = width;\n      this.crossZoneBehaviour.zone.height = height;\n      this.proton.renderers[0].resize(width, height);\n    },\n    canvasMouseDown(e) {},\n\n    createProton(canvas) {\n      const width = canvas.width;\n      const height = canvas.height;\n      this.proton = new Proton();\n\n      const emitter = new Proton.Emitter();\n      emitter.damping = 0.008;\n      emitter.rate = new Proton.Rate(this.num ? this.num : 150);\n\n      // Initialize\n      emitter.addInitialize(new Proton.Mass(1));\n      emitter.addInitialize(new Proton.Radius(8));\n      emitter.addInitialize(\n        new Proton.V(\n          new Proton.Span(0.1, 0.5),\n          new Proton.Span(0, 360),\n          \"polar\"\n        )\n      );\n      emitter.addInitialize(\n        new Proton.Position(\n          new Proton.CircleZone(canvas.width / 2, canvas.height / 2, 100)\n        )\n      );\n\n      // Behaviour\n      const crossZoneBehaviour = new Proton.CrossZone(\n        new Proton.RectZone(0, 0, canvas.width, canvas.height),\n        \"cross\"\n      );\n      emitter.addBehaviour(crossZoneBehaviour);\n      this.repulsion = new Proton.Repulsion(\n        {\n          x: canvas.width / 2,\n          y: canvas.height / 2 - 100\n        },\n        3,\n        300\n      );\n\n      this.attraction = new Proton.Attraction(\n        {\n          x: canvas.width / 2,\n          y: canvas.height / 2\n        },\n        3,\n        200\n      );\n      emitter.addBehaviour(this.attraction, this.repulsion);\n      emitter.addBehaviour(new Proton.Color(\"random\"));\n      emitter.addBehaviour(new Proton.RandomDrift(20, 15, 0.15));\n\n      emitter.emit(\"once\");\n      this.proton.addEmitter(emitter);\n      this.proton.addRenderer(this.createRenderer(canvas));\n      this.crossZoneBehaviour = crossZoneBehaviour;\n    },\n    createRenderer(canvas) {\n      const context = canvas.getContext(\"2d\");\n      const renderer = new Proton.CanvasRenderer(canvas);\n\n      renderer.onProtonUpdate = () => {\n        this.hue += 1;\n        context.fillStyle = getColor(this.color, 0.02) || \"rgba(0, 0, 0, 0.02)\";\n        context.fillRect(0, 0, canvas.width, canvas.height);\n      };\n\n      renderer.onParticleCreated = particle => {\n        particle.data.begin = Proton.MathUtil.randomAToB(1, 120);\n        particle.data.tha = Proton.MathUtil.randomAToB(0, Math.PI * 2);\n      };\n\n      renderer.onParticleUpdate = particle => {\n        const hue = particle.data.begin + this.hue;\n        particle.color = this.colorTemplate.replace(\"hue\", hue % 360);\n\n        const ratio = 3 / 4;\n        const radius =\n          particle.radius *\n            (1 - ratio) *\n            Math.cos((particle.data.tha += 0.01)) +\n          particle.radius * ratio;\n\n        context.beginPath();\n        context.fillStyle = particle.color;\n        context.arc(particle.p.x, particle.p.y, radius, 0, Math.PI * 2, true);\n        context.closePath();\n        context.fill();\n      };\n\n      return renderer;\n    },\n    renderProton() {\n      const canvas = this.canvasDom;\n      this.proton.update();\n      if (this.index % 200 === 0) {\n        this.attraction.targetPosition.x = Math.random() * canvas.width;\n        this.attraction.targetPosition.y = Math.random() * canvas.height;\n\n        this.repulsion.targetPosition.x = Math.random() * canvas.width;\n        this.repulsion.targetPosition.y = Math.random() * canvas.height;\n      }\n\n      this.index++;\n    }\n  },\n  created() {\n    this.hue = 0;\n    this.index = 0;\n    this.colorTemplate = `hsla(hue,80%,50%, 0.75)`;\n    this.renderProton = this.renderProton.bind(this);\n  },\n  beforeDestroy() {\n    try {\n      this.proton.destroy();\n      RAFManager.remove(this.renderProton);\n    } catch (e) {}\n  }\n};\n</script>\n"]}]}