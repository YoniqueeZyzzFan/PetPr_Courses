{"remainingRequest":"G:\\1WORK\\cockrid34r\\client\\node_modules\\babel-loader\\lib\\index.js!G:\\1WORK\\cockrid34r\\client\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!G:\\1WORK\\cockrid34r\\client\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!G:\\1WORK\\cockrid34r\\client\\node_modules\\particles-bg-vue\\src\\particles-bg\\particles\\BallParticles.vue?vue&type=script&lang=js&","dependencies":[{"path":"G:\\1WORK\\cockrid34r\\client\\node_modules\\particles-bg-vue\\src\\particles-bg\\particles\\BallParticles.vue","mtime":1660813555598},{"path":"G:\\1WORK\\cockrid34r\\client\\babel.config.js","mtime":1660813200039},{"path":"G:\\1WORK\\cockrid34r\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1660813139587},{"path":"G:\\1WORK\\cockrid34r\\client\\node_modules\\babel-loader\\lib\\index.js","mtime":1660813146986},{"path":"G:\\1WORK\\cockrid34r\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1660813139587},{"path":"G:\\1WORK\\cockrid34r\\client\\node_modules\\vue-loader\\lib\\index.js","mtime":1660813157465}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IENhbnZhc0NvbXAgZnJvbSAiLi9DYW52YXNDb21wLnZ1ZSI7CmltcG9ydCBQcm90b24gZnJvbSAicHJvdG9uLWVuZ2luZSI7CmltcG9ydCBSQUZNYW5hZ2VyIGZyb20gInJhZi1tYW5hZ2VyIjsKaW1wb3J0IHsgZ2V0Q29sb3IgfSBmcm9tICIuLi91dGlscy9Db2xvciI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiQmFsbFBhcnRpY2xlcyIsCiAgY29tcG9uZW50czogewogICAgQ2FudmFzQ29tcAogIH0sCiAgcHJvcHM6IHsKICAgIGNhbnZhczogT2JqZWN0LAogICAgYmc6IEJvb2xlYW4sCiAgICBudW06IE51bWJlciwKICAgIGNvbG9yOiBTdHJpbmcsCiAgICBjb25maWc6IHt9CiAgfSwKICBtZXRob2RzOiB7CiAgICBjYW52YXNJbml0ZWQoY2FudmFzKSB7CiAgICAgIHRoaXMuY3JlYXRlUHJvdG9uKGNhbnZhcyk7CiAgICAgIHRoaXMuY3JlYXRlTWluaUVtaXR0ZXIoY2FudmFzKTsKICAgICAgUkFGTWFuYWdlci5hZGQodGhpcy5yZW5kZXJQcm90b24pOwogICAgfSwKCiAgICBjYW52YXNSZXNpemUoewogICAgICB3aWR0aCwKICAgICAgaGVpZ2h0CiAgICB9KSB7CiAgICAgIHRoaXMuY3Jvc3Nab25lQmVoYXZpb3VyLnpvbmUud2lkdGggPSB3aWR0aDsKICAgICAgdGhpcy5jcm9zc1pvbmVCZWhhdmlvdXIuem9uZS5oZWlnaHQgPSBoZWlnaHQ7CiAgICAgIHRoaXMucHJvdG9uLnJlbmRlcmVyc1swXS5yZXNpemUod2lkdGgsIGhlaWdodCk7CiAgICB9LAoKICAgIGNhbnZhc01vdXNlRG93bihlKSB7fSwKCiAgICBjcmVhdGVQcm90b24oY2FudmFzKSB7CiAgICAgIGNvbnN0IHdpZHRoID0gY2FudmFzLndpZHRoOwogICAgICBjb25zdCBoZWlnaHQgPSBjYW52YXMuaGVpZ2h0OwogICAgICB0aGlzLnByb3RvbiA9IG5ldyBQcm90b24oKTsKICAgICAgY29uc3QgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KCIyZCIpOwogICAgICBjb25zdCBlbWl0dGVyID0gbmV3IFByb3Rvbi5FbWl0dGVyKCk7CiAgICAgIGVtaXR0ZXIucmF0ZSA9IG5ldyBQcm90b24uUmF0ZSh0aGlzLm51bSA/IG5ldyBQcm90b24uU3Bhbih0aGlzLm51bSkgOiBuZXcgUHJvdG9uLlNwYW4oNCwgOSksIG5ldyBQcm90b24uU3BhbigwLjgsIDEuMykpOwogICAgICBlbWl0dGVyLmFkZEluaXRpYWxpemUobmV3IFByb3Rvbi5NYXNzKDEpKTsKICAgICAgZW1pdHRlci5hZGRJbml0aWFsaXplKG5ldyBQcm90b24uUmFkaXVzKDEsIDUwKSk7CiAgICAgIGVtaXR0ZXIuYWRkSW5pdGlhbGl6ZShuZXcgUHJvdG9uLkxpZmUoNSwgNikpOwogICAgICBlbWl0dGVyLmFkZEluaXRpYWxpemUobmV3IFByb3Rvbi5WZWxvY2l0eShuZXcgUHJvdG9uLlNwYW4oNSwgOCksIG5ldyBQcm90b24uU3BhbigzMCwgNzApLCAicG9sYXIiKSk7CiAgICAgIGVtaXR0ZXIuYWRkQmVoYXZpb3VyKG5ldyBQcm90b24uQWxwaGEoMSwgMCkpOwogICAgICBlbWl0dGVyLmFkZEJlaGF2aW91cihuZXcgUHJvdG9uLkNvbG9yKFsiIzM2YWFmMyIsICIjZmQ3NjljIiwgIiM5NGZmMjIiLCAiI2ZmYTU0NSIsICIjZmZmZmZmIl0pKTsKICAgICAgZW1pdHRlci5hZGRCZWhhdmlvdXIobmV3IFByb3Rvbi5TY2FsZSgwLjcsIDEpKTsKICAgICAgZW1pdHRlci5hZGRCZWhhdmlvdXIobmV3IFByb3Rvbi5HcmF2aXR5KDMpKTsKICAgICAgZW1pdHRlci5hZGRCZWhhdmlvdXIobmV3IFByb3Rvbi5Db2xsaXNpb24oZW1pdHRlcikpOwogICAgICBlbWl0dGVyLmFkZEJlaGF2aW91cih0aGlzLmN1c3RvbURlYWRCZWhhdmlvdXIoY2FudmFzKSk7CiAgICAgIGNvbnN0IGNyb3NzWm9uZUJlaGF2aW91ciA9IG5ldyBQcm90b24uQ3Jvc3Nab25lKG5ldyBQcm90b24uUmVjdFpvbmUoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KSwgImJvdW5kIik7CiAgICAgIGVtaXR0ZXIuYWRkQmVoYXZpb3VyKGNyb3NzWm9uZUJlaGF2aW91cik7CiAgICAgIGVtaXR0ZXIucC54ID0gTWF0aC5taW4oNTAwLCBNYXRoLm1heChjYW52YXMud2lkdGggLyAyIC0gNDAwLCA1MCkpOwogICAgICBlbWl0dGVyLnAueSA9IGNhbnZhcy5oZWlnaHQgLyAyICsgNTA7CiAgICAgIGVtaXR0ZXIuZW1pdCgpOwogICAgICB0aGlzLnByb3Rvbi5hZGRFbWl0dGVyKGVtaXR0ZXIpOwogICAgICBjb25zdCByZW5kZXJlciA9IG5ldyBQcm90b24uQ2FudmFzUmVuZGVyZXIoY2FudmFzKTsKCiAgICAgIHJlbmRlcmVyLm9uUHJvdG9uVXBkYXRlID0gKCkgPT4gewogICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gZ2V0Q29sb3IodGhpcy5jb2xvciwgMC4yKSB8fCAicmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpIjsKICAgICAgICBjb250ZXh0LmZpbGxSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7CiAgICAgIH07CgogICAgICB0aGlzLnByb3Rvbi5hZGRSZW5kZXJlcihyZW5kZXJlcik7CiAgICAgIHRoaXMuY3Jvc3Nab25lQmVoYXZpb3VyID0gY3Jvc3Nab25lQmVoYXZpb3VyOwogICAgfSwKCiAgICBjdXN0b21EZWFkQmVoYXZpb3VyKGNhbnZhcykgewogICAgICByZXR1cm4gewogICAgICAgIGluaXRpYWxpemUocGFydGljbGUpIHt9LAoKICAgICAgICBhcHBseUJlaGF2aW91cjogcGFydGljbGUgPT4gewogICAgICAgICAgaWYgKHBhcnRpY2xlLnAueSArIHBhcnRpY2xlLnJhZGl1cyA+PSBjYW52YXMuaGVpZ2h0KSB7CiAgICAgICAgICAgIGlmIChwYXJ0aWNsZS5yYWRpdXMgPiA5KSB7CiAgICAgICAgICAgICAgdGhpcy5taW5pRW1pdHRlaW5nKHBhcnRpY2xlKTsKICAgICAgICAgICAgICBwYXJ0aWNsZS5kZWFkID0gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfTsKICAgIH0sCgogICAgY3JlYXRlTWluaUVtaXR0ZXIoY2FudmFzKSB7CiAgICAgIGNvbnN0IG1pbmlFbWl0dGVyID0gbmV3IFByb3Rvbi5FbWl0dGVyKCk7CiAgICAgIG1pbmlFbWl0dGVyLnJhdGUgPSBuZXcgUHJvdG9uLlJhdGUobmV3IFByb3Rvbi5TcGFuKDMsIDYpLCBuZXcgUHJvdG9uLlNwYW4oMSwgMikpOwogICAgICBtaW5pRW1pdHRlci5hZGRJbml0aWFsaXplKG5ldyBQcm90b24uTWFzcygxKSk7CiAgICAgIG1pbmlFbWl0dGVyLnJhZGl1c0luaXRpYWxpemUgPSBuZXcgUHJvdG9uLlJhZGl1cygpOwogICAgICBtaW5pRW1pdHRlci5hZGRJbml0aWFsaXplKG1pbmlFbWl0dGVyLnJhZGl1c0luaXRpYWxpemUpOwogICAgICBtaW5pRW1pdHRlci5hZGRJbml0aWFsaXplKG5ldyBQcm90b24uTGlmZSgwLjUsIDEpKTsKICAgICAgbWluaUVtaXR0ZXIuYWRkSW5pdGlhbGl6ZShuZXcgUHJvdG9uLlYobmV3IFByb3Rvbi5TcGFuKDEuNSwgMyksIG5ldyBQcm90b24uU3BhbigwLCA3MCwgdHJ1ZSksICJwb2xhciIpKTsKICAgICAgbWluaUVtaXR0ZXIuY29sb3JCZWhhdmlvdXIgPSBuZXcgUHJvdG9uLkNvbG9yKCIjZmZmZmZmIik7CiAgICAgIG1pbmlFbWl0dGVyLmFkZEJlaGF2aW91cihuZXcgUHJvdG9uLkFscGhhKDEsIDApKTsKICAgICAgbWluaUVtaXR0ZXIuYWRkQmVoYXZpb3VyKG1pbmlFbWl0dGVyLmNvbG9yQmVoYXZpb3VyKTsKICAgICAgbWluaUVtaXR0ZXIuYWRkQmVoYXZpb3VyKG5ldyBQcm90b24uR3Jhdml0eSg0KSk7CiAgICAgIG1pbmlFbWl0dGVyLmFkZEJlaGF2aW91cihuZXcgUHJvdG9uLkNvbGxpc2lvbihtaW5pRW1pdHRlcikpOwogICAgICBtaW5pRW1pdHRlci5hZGRCZWhhdmlvdXIobmV3IFByb3Rvbi5Dcm9zc1pvbmUobmV3IFByb3Rvbi5SZWN0Wm9uZSgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpLCAiYm91bmQiKSk7CiAgICAgIHRoaXMucHJvdG9uLmFkZEVtaXR0ZXIobWluaUVtaXR0ZXIpOwogICAgICB0aGlzLm1pbmlFbWl0dGVyID0gbWluaUVtaXR0ZXI7CiAgICB9LAoKICAgIG1pbmlFbWl0dGVpbmcocGFydGljbGUpIHsKICAgICAgY29uc3QgbWluaUVtaXR0ZXIgPSB0aGlzLm1pbmlFbWl0dGVyOwogICAgICBtaW5pRW1pdHRlci5yYWRpdXNJbml0aWFsaXplLnJlc2V0KHBhcnRpY2xlLnJhZGl1cyAqIDAuMDUsIHBhcnRpY2xlLnJhZGl1cyAqIDAuMik7CiAgICAgIG1pbmlFbWl0dGVyLmNvbG9yQmVoYXZpb3VyLnJlc2V0KHBhcnRpY2xlLmNvbG9yKTsKICAgICAgbWluaUVtaXR0ZXIucC54ID0gcGFydGljbGUucC54OwogICAgICBtaW5pRW1pdHRlci5wLnkgPSBwYXJ0aWNsZS5wLnk7CiAgICAgIG1pbmlFbWl0dGVyLmVtaXQoIm9uY2UiKTsKICAgIH0sCgogICAgcmVuZGVyUHJvdG9uKCkgewogICAgICB0aGlzLnByb3RvbiAmJiB0aGlzLnByb3Rvbi51cGRhdGUoKTsKICAgIH0KCiAgfSwKCiAgYmVmb3JlRGVzdHJveSgpIHsKICAgIHRyeSB7CiAgICAgIHRoaXMucHJvdG9uLmRlc3Ryb3koKTsKICAgICAgUkFGTWFuYWdlci5yZW1vdmUodGhpcy5yZW5kZXJQcm90b24pOwogICAgfSBjYXRjaCAoZSkge30KICB9Cgp9Ow=="},{"version":3,"mappings":"AAYA;AACA;AACA;AACA;AAEA;EACAA,qBADA;EAEAC;IACAC;EADA,CAFA;EAKAC;IACAC,cADA;IAEAC,WAFA;IAGAC,WAHA;IAIAC,aAJA;IAKAC;EALA,CALA;EAYAC;IACAC;MACA;MACA;MACAC;IACA,CALA;;IAMAC;MAAAC;MAAAC;IAAA;MACA;MACA;MACA;IACA,CAVA;;IAWAC,qBAXA;;IAaAC;MACA;MACA;MACA;MAEA;MACA;MACAC,+BACA,4DADA,EAEA,yBAFA;MAKAA;MACAA;MACAA;MACAA,sBACA,oBACA,qBADA,EAEA,uBAFA,EAGA,OAHA,CADA;MAQAA;MACAA,qBACA,kBACA,SADA,EAEA,SAFA,EAGA,SAHA,EAIA,SAJA,EAKA,SALA,EADA;MASAA;MACAA;MACAA;MACAA;MACA,gDACA,sDADA,EAEA,OAFA;MAIAA;MAEAA;MACAA;MACAA;MACA;MAEA;;MACAC;QACAC,oBACAC,uDADA;QAEAD;MACA,CAJA;;MAKA;MAEA;IACA,CAtEA;;IAuEAE;MACA;QACAC,uBADA;;QAEAC;UACA;YACA;cACA;cACAC;YACA;UACA;QACA;MATA;IAWA,CAnFA;;IAqFAC;MACA;MACAC,mCACA,qBADA,EAEA,qBAFA;MAKAA;MACAA;MACAA;MACAA;MACAA,0BACA,aACA,uBADA,EAEA,4BAFA,EAGA,OAHA,CADA;MAQAA;MACAA;MACAA;MACAA;MACAA;MACAA,yBACA,qBACA,sDADA,EAEA,OAFA,CADA;MAMA;MAEA;IACA,CAtHA;;IAuHAC;MACA;MACAD,mCACAF,sBADA,EAEAA,qBAFA;MAIAE;MACAA;MACAA;MACAA;IACA,CAjIA;;IAkIAE;MACA;IACA;;EApIA,CAZA;;EAkJAC;IACA;MACA;MACAlB;IACA,CAHA,CAGA;EACA;;AAvJA","names":["name","components","CanvasComp","props","canvas","bg","num","color","config","methods","canvasInited","RAFManager","canvasResize","width","height","canvasMouseDown","createProton","emitter","renderer","context","getColor","customDeadBehaviour","initialize","applyBehaviour","particle","createMiniEmitter","miniEmitter","miniEmitteing","renderProton","beforeDestroy"],"sourceRoot":"node_modules/particles-bg-vue/src/particles-bg/particles","sources":["BallParticles.vue"],"sourcesContent":["<template>\n  <canvas-comp\n    :bg=\"bg\"\n    :canvas=\"canvas\"\n    global-composite-operation=\"source-over\"\n    v-on:canvasInited=\"canvasInited\"\n    v-on:canvasResize=\"canvasResize\"\n    v-on:canvasMouseDown=\"canvasMouseDown\"\n  />\n</template>\n\n<script>\nimport CanvasComp from \"./CanvasComp.vue\";\nimport Proton from \"proton-engine\";\nimport RAFManager from \"raf-manager\";\nimport { getColor } from \"../utils/Color\";\n\nexport default {\n  name: \"BallParticles\",\n  components: {\n    CanvasComp\n  },\n  props: {\n    canvas: Object,\n    bg: Boolean,\n    num: Number,\n    color: String,\n    config: {}\n  },\n  methods: {\n    canvasInited(canvas) {\n      this.createProton(canvas);\n      this.createMiniEmitter(canvas);\n      RAFManager.add(this.renderProton);\n    },\n    canvasResize({ width, height }) {\n      this.crossZoneBehaviour.zone.width = width;\n      this.crossZoneBehaviour.zone.height = height;\n      this.proton.renderers[0].resize(width, height);\n    },\n    canvasMouseDown(e) {},\n\n    createProton(canvas) {\n      const width = canvas.width;\n      const height = canvas.height;\n      this.proton = new Proton();\n\n      const context = canvas.getContext(\"2d\");\n      const emitter = new Proton.Emitter();\n      emitter.rate = new Proton.Rate(\n        this.num ? new Proton.Span(this.num) : new Proton.Span(4, 9),\n        new Proton.Span(0.8, 1.3)\n      );\n\n      emitter.addInitialize(new Proton.Mass(1));\n      emitter.addInitialize(new Proton.Radius(1, 50));\n      emitter.addInitialize(new Proton.Life(5, 6));\n      emitter.addInitialize(\n        new Proton.Velocity(\n          new Proton.Span(5, 8),\n          new Proton.Span(30, 70),\n          \"polar\"\n        )\n      );\n\n      emitter.addBehaviour(new Proton.Alpha(1, 0));\n      emitter.addBehaviour(\n        new Proton.Color([\n          \"#36aaf3\",\n          \"#fd769c\",\n          \"#94ff22\",\n          \"#ffa545\",\n          \"#ffffff\"\n        ])\n      );\n      emitter.addBehaviour(new Proton.Scale(0.7, 1));\n      emitter.addBehaviour(new Proton.Gravity(3));\n      emitter.addBehaviour(new Proton.Collision(emitter));\n      emitter.addBehaviour(this.customDeadBehaviour(canvas));\n      const crossZoneBehaviour = new Proton.CrossZone(\n        new Proton.RectZone(0, 0, canvas.width, canvas.height),\n        \"bound\"\n      );\n      emitter.addBehaviour(crossZoneBehaviour);\n\n      emitter.p.x = Math.min(500, Math.max(canvas.width / 2 - 400, 50));\n      emitter.p.y = canvas.height / 2 + 50;\n      emitter.emit();\n      this.proton.addEmitter(emitter);\n\n      const renderer = new Proton.CanvasRenderer(canvas);\n      renderer.onProtonUpdate = () => {\n        context.fillStyle =\n          getColor(this.color, 0.2) || \"rgba(255, 255, 255, 0.2)\";\n        context.fillRect(0, 0, canvas.width, canvas.height);\n      };\n      this.proton.addRenderer(renderer);\n\n      this.crossZoneBehaviour = crossZoneBehaviour;\n    },\n    customDeadBehaviour(canvas) {\n      return {\n        initialize(particle) {},\n        applyBehaviour: particle => {\n          if (particle.p.y + particle.radius >= canvas.height) {\n            if (particle.radius > 9) {\n              this.miniEmitteing(particle);\n              particle.dead = true;\n            }\n          }\n        }\n      };\n    },\n\n    createMiniEmitter(canvas) {\n      const miniEmitter = new Proton.Emitter();\n      miniEmitter.rate = new Proton.Rate(\n        new Proton.Span(3, 6),\n        new Proton.Span(1, 2)\n      );\n\n      miniEmitter.addInitialize(new Proton.Mass(1));\n      miniEmitter.radiusInitialize = new Proton.Radius();\n      miniEmitter.addInitialize(miniEmitter.radiusInitialize);\n      miniEmitter.addInitialize(new Proton.Life(0.5, 1));\n      miniEmitter.addInitialize(\n        new Proton.V(\n          new Proton.Span(1.5, 3),\n          new Proton.Span(0, 70, true),\n          \"polar\"\n        )\n      );\n\n      miniEmitter.colorBehaviour = new Proton.Color(\"#ffffff\");\n      miniEmitter.addBehaviour(new Proton.Alpha(1, 0));\n      miniEmitter.addBehaviour(miniEmitter.colorBehaviour);\n      miniEmitter.addBehaviour(new Proton.Gravity(4));\n      miniEmitter.addBehaviour(new Proton.Collision(miniEmitter));\n      miniEmitter.addBehaviour(\n        new Proton.CrossZone(\n          new Proton.RectZone(0, 0, canvas.width, canvas.height),\n          \"bound\"\n        )\n      );\n      this.proton.addEmitter(miniEmitter);\n\n      this.miniEmitter = miniEmitter;\n    },\n    miniEmitteing(particle) {\n      const miniEmitter = this.miniEmitter;\n      miniEmitter.radiusInitialize.reset(\n        particle.radius * 0.05,\n        particle.radius * 0.2\n      );\n      miniEmitter.colorBehaviour.reset(particle.color);\n      miniEmitter.p.x = particle.p.x;\n      miniEmitter.p.y = particle.p.y;\n      miniEmitter.emit(\"once\");\n    },\n    renderProton() {\n      this.proton && this.proton.update();\n    }\n  },\n  beforeDestroy() {\n    try {\n      this.proton.destroy();\n      RAFManager.remove(this.renderProton);\n    } catch (e) {}\n  }\n};\n</script>\n"]}]}