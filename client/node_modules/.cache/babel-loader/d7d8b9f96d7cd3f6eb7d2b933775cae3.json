{"remainingRequest":"G:\\1WORK\\cockrid34r\\client\\node_modules\\babel-loader\\lib\\index.js!G:\\1WORK\\cockrid34r\\client\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!G:\\1WORK\\cockrid34r\\client\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!G:\\1WORK\\cockrid34r\\client\\node_modules\\particles-bg-vue\\src\\particles-bg\\particles\\SquareParticles.vue?vue&type=script&lang=js&","dependencies":[{"path":"G:\\1WORK\\cockrid34r\\client\\node_modules\\particles-bg-vue\\src\\particles-bg\\particles\\SquareParticles.vue","mtime":1660813555618},{"path":"G:\\1WORK\\cockrid34r\\client\\babel.config.js","mtime":1660813200039},{"path":"G:\\1WORK\\cockrid34r\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1660813139587},{"path":"G:\\1WORK\\cockrid34r\\client\\node_modules\\babel-loader\\lib\\index.js","mtime":1660813146986},{"path":"G:\\1WORK\\cockrid34r\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1660813139587},{"path":"G:\\1WORK\\cockrid34r\\client\\node_modules\\vue-loader\\lib\\index.js","mtime":1660813157465}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IENhbnZhc0NvbXAgZnJvbSAiLi9DYW52YXNDb21wLnZ1ZSI7CmltcG9ydCBQcm90b24gZnJvbSAicHJvdG9uLWVuZ2luZSI7CmltcG9ydCBSQUZNYW5hZ2VyIGZyb20gInJhZi1tYW5hZ2VyIjsKaW1wb3J0IHsgZ2V0Q29sb3IgfSBmcm9tICIuLi91dGlscy9Db2xvciI7CmNvbnN0IGNvbG9ycyA9IFsiI2ZhZDM5MCIsICIjODFlY2VjIiwgIiNmZmZmZmYiLCAiI2JhZGM1OCIsICIjZjljYTI0IiwgIiNGRUE0N0YiXTsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJTcXVhcmVQYXJ0aWNsZXMiLAogIGNvbXBvbmVudHM6IHsKICAgIENhbnZhc0NvbXAKICB9LAogIHByb3BzOiB7CiAgICBjYW52YXM6IE9iamVjdCwKICAgIGJnOiBCb29sZWFuLAogICAgY29sb3I6IFN0cmluZywKICAgIG51bTogTnVtYmVyLAogICAgY29uZmlnOiB7fQogIH0sCiAgbWV0aG9kczogewogICAgY2FudmFzSW5pdGVkKGNhbnZhcykgewogICAgICB0aGlzLmNyZWF0ZVByb3RvbihjYW52YXMpOwogICAgICBSQUZNYW5hZ2VyLmFkZCh0aGlzLnJlbmRlclByb3Rvbik7CgogICAgICBpZiAodGhpcy5jb2xvcikgewogICAgICAgIGNhbnZhcy5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSB0aGlzLmNvbG9yOwogICAgICB9CiAgICB9LAoKICAgIGNhbnZhc1Jlc2l6ZSh7CiAgICAgIHdpZHRoLAogICAgICBoZWlnaHQKICAgIH0pIHsKICAgICAgY29uc3QgZGlzID0gMTUwOwogICAgICB0aGlzLmNyb3NzWm9uZUJlaGF2aW91ci56b25lLndpZHRoID0gd2lkdGggKyAyICogZGlzOwogICAgICB0aGlzLmNyb3NzWm9uZUJlaGF2aW91ci56b25lLmhlaWdodCA9IGhlaWdodCArIDIgKiBkaXM7CiAgICAgIHRoaXMucHJvdG9uLnJlbmRlcmVyc1swXS5yZXNpemUod2lkdGgsIGhlaWdodCk7CiAgICB9LAoKICAgIGNhbnZhc01vdXNlRG93bihlKSB7fSwKCiAgICBjcmVhdGVQcm90b24oY2FudmFzKSB7CiAgICAgIGNvbnN0IHdpZHRoID0gY2FudmFzLndpZHRoOwogICAgICBjb25zdCBoZWlnaHQgPSBjYW52YXMuaGVpZ2h0OwogICAgICB0aGlzLnByb3RvbiA9IG5ldyBQcm90b24oKTsKICAgICAgY29uc3QgZW1pdHRlciA9IG5ldyBQcm90b24uRW1pdHRlcigpOwogICAgICBlbWl0dGVyLnJhdGUgPSBuZXcgUHJvdG9uLlJhdGUodGhpcy5udW0gPyB0aGlzLm51bSA6IDUwKTsKICAgICAgZW1pdHRlci5kYW1waW5nID0gMDsKICAgICAgZW1pdHRlci5hZGRJbml0aWFsaXplKG5ldyBQcm90b24uTWFzcygxKSk7CiAgICAgIGVtaXR0ZXIuYWRkSW5pdGlhbGl6ZShuZXcgUHJvdG9uLlJhZGl1cyg0LCA3MCkpOwogICAgICBlbWl0dGVyLmFkZEluaXRpYWxpemUobmV3IFByb3Rvbi5WZWxvY2l0eShuZXcgUHJvdG9uLlNwYW4oNCwgMTIpLCAxODAsICJwb2xhciIpKTsKICAgICAgZW1pdHRlci5hZGRJbml0aWFsaXplKG5ldyBQcm90b24uUG9zaXRpb24obmV3IFByb3Rvbi5MaW5lWm9uZSgwLCAwLCBjYW52YXMud2lkdGgsIDApKSk7CiAgICAgIGNvbnN0IGRpcyA9IDE1MDsKICAgICAgY29uc3QgY3Jvc3Nab25lQmVoYXZpb3VyID0gbmV3IFByb3Rvbi5Dcm9zc1pvbmUobmV3IFByb3Rvbi5SZWN0Wm9uZSgwIC0gZGlzLCAwIC0gZGlzLCBjYW52YXMud2lkdGggKyAyICogZGlzLCBjYW52YXMuaGVpZ2h0ICsgMiAqIGRpcyksICJjcm9zcyIpOwogICAgICBlbWl0dGVyLmFkZEJlaGF2aW91cihjcm9zc1pvbmVCZWhhdmlvdXIpOwogICAgICBlbWl0dGVyLmFkZEJlaGF2aW91cihuZXcgUHJvdG9uLkFscGhhKFByb3Rvbi5nZXRTcGFuKDAuMSwgMC41NSkpKTsKICAgICAgZW1pdHRlci5hZGRCZWhhdmlvdXIobmV3IFByb3Rvbi5Db2xvcihjb2xvcnMpKTsKICAgICAgZW1pdHRlci5lbWl0KCJvbmNlIik7CiAgICAgIHRoaXMucHJvdG9uLmFkZEVtaXR0ZXIoZW1pdHRlcik7CiAgICAgIGNvbnN0IHJlbmRlcmVyID0gdGhpcy5jcmVhdGVSZW5kZXJlcihjYW52YXMpOwogICAgICB0aGlzLnByb3Rvbi5hZGRSZW5kZXJlcihyZW5kZXJlcik7CiAgICAgIHRoaXMuY3Jvc3Nab25lQmVoYXZpb3VyID0gY3Jvc3Nab25lQmVoYXZpb3VyOwogICAgICBlbWl0dGVyLnByZUVtaXQoMik7CiAgICB9LAoKICAgIGNyZWF0ZVJlbmRlcmVyKGNhbnZhcykgewogICAgICBjb25zdCBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoIjJkIik7CiAgICAgIGNvbnN0IHJlbmRlcmVyID0gbmV3IFByb3Rvbi5DdXN0b21SZW5kZXJlcigpOwoKICAgICAgcmVuZGVyZXIub25Qcm90b25VcGRhdGUgPSAoKSA9PiB7CiAgICAgICAgY29udGV4dC5jbGVhclJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTsKICAgICAgfTsKCiAgICAgIHJlbmRlcmVyLm9uUGFydGljbGVDcmVhdGVkID0gcGFydGljbGUgPT4gewogICAgICAgIGNvbnN0IHcgPSBwYXJ0aWNsZS5yYWRpdXMgfHwgNjA7CiAgICAgICAgY29uc3QgaCA9IFByb3Rvbi5NYXRoVXRpbC5yYW5kb21BVG9CKDEwMCwgMjAwLCAiaW50Iik7CiAgICAgICAgcGFydGljbGUuZGF0YS53ID0gdzsKICAgICAgICBwYXJ0aWNsZS5kYXRhLmggPSBoOwogICAgICB9OwoKICAgICAgcmVuZGVyZXIub25QYXJ0aWNsZVVwZGF0ZSA9IHBhcnRpY2xlID0+IHsKICAgICAgICBjb25zdCB3ID0gcGFydGljbGUuZGF0YS53OwogICAgICAgIGNvbnN0IGggPSBwYXJ0aWNsZS5kYXRhLmg7CiAgICAgICAgY29udGV4dC5zYXZlKCk7CiAgICAgICAgY29udGV4dC5nbG9iYWxBbHBoYSA9IHBhcnRpY2xlLmFscGhhOwogICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gcGFydGljbGUuY29sb3I7CiAgICAgICAgY29udGV4dC50cmFuc2xhdGUocGFydGljbGUucC54LCBwYXJ0aWNsZS5wLnkpOwogICAgICAgIGNvbnRleHQucm90YXRlKFByb3Rvbi5NYXRoVXRpbC5kZWdyZWVUcmFuc2Zvcm0ocGFydGljbGUucm90YXRpb24pKTsKICAgICAgICBjb250ZXh0LnRyYW5zbGF0ZSgtcGFydGljbGUucC54LCAtcGFydGljbGUucC55KTsKICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpOwogICAgICAgIGNvbnRleHQucmVjdChwYXJ0aWNsZS5wLnggLSB3IC8gMiwgcGFydGljbGUucC55IC0gaCAvIDIsIHcsIGgpOwogICAgICAgIGNvbnRleHQuY2xvc2VQYXRoKCk7CiAgICAgICAgY29udGV4dC5maWxsKCk7CiAgICAgICAgY29udGV4dC5nbG9iYWxBbHBoYSA9IDE7CiAgICAgICAgY29udGV4dC5yZXN0b3JlKCk7CiAgICAgIH07CgogICAgICByZXR1cm4gcmVuZGVyZXI7CiAgICB9LAoKICAgIHJlbmRlclByb3RvbigpIHsKICAgICAgdGhpcy5wcm90b24gJiYgdGhpcy5wcm90b24udXBkYXRlKCk7CiAgICB9CgogIH0sCgogIGJlZm9yZURlc3Ryb3koKSB7CiAgICB0cnkgewogICAgICB0aGlzLnByb3Rvbi5kZXN0cm95KCk7CiAgICAgIFJBRk1hbmFnZXIucmVtb3ZlKHRoaXMucmVuZGVyUHJvdG9uKTsKICAgIH0gY2F0Y2ggKGUpIHt9CiAgfQoKfTs="},{"version":3,"mappings":"AAYA;AACA;AACA;AACA;AAEA,gBACA,SADA,EAEA,SAFA,EAGA,SAHA,EAIA,SAJA,EAKA,SALA,EAMA,SANA;AAQA;EACAA,uBADA;EAEAC;IACAC;EADA,CAFA;EAKAC;IACAC,cADA;IAEAC,WAFA;IAGAC,aAHA;IAIAC,WAJA;IAKAC;EALA,CALA;EAYAC;IACAC;MACA;MACAC;;MACA;QACAP;MACA;IACA,CAPA;;IAQAQ;MAAAC;MAAAC;IAAA;MACA;MACA;MACA;MACA;IACA,CAbA;;IAcAC,qBAdA;;IAgBAC;MACA;MACA;MACA;MACA;MACAC;MACAA;MAEAA;MACAA;MACAA,sBACA,yDADA;MAGAA,sBACA,+DADA;MAIA;MACA,gDACA,oBACA,OADA,EAEA,OAFA,EAGAb,sBAHA,EAIAA,uBAJA,CADA,EAOA,OAPA;MASAa;MACAA;MACAA;MAEAA;MACA;MACA;MACA;MAEA;MACAA;IACA,CAtDA;;IAuDAC;MACA;MACA;;MAEAC;QACAC;MACA,CAFA;;MAIAD;QACA;QACA;QACAE;QACAA;MACA,CALA;;MAOAF;QACA;QACA;QACAC;QACAA;QACAA;QAEAA;QACAA;QACAA;QAEAA;QACAA;QAEAA;QACAA;QACAA;QACAA;MACA,CAlBA;;MAoBA;IACA,CA3FA;;IA4FAE;MACA;IACA;;EA9FA,CAZA;;EA4GAC;IACA;MACA;MACAZ;IACA,CAHA,CAGA;EACA;;AAjHA","names":["name","components","CanvasComp","props","canvas","bg","color","num","config","methods","canvasInited","RAFManager","canvasResize","width","height","canvasMouseDown","createProton","emitter","createRenderer","renderer","context","particle","renderProton","beforeDestroy"],"sourceRoot":"node_modules/particles-bg-vue/src/particles-bg/particles","sources":["SquareParticles.vue"],"sourcesContent":["<template>\n  <canvas-comp\n    :bg=\"bg\"\n    :canvas=\"canvas\"\n    global-composite-operation=\"lighter\"\n    v-on:canvasInited=\"canvasInited\"\n    v-on:canvasResize=\"canvasResize\"\n    v-on:canvasMouseDown=\"canvasMouseDown\"\n  />\n</template>\n\n<script>\nimport CanvasComp from \"./CanvasComp.vue\";\nimport Proton from \"proton-engine\";\nimport RAFManager from \"raf-manager\";\nimport { getColor } from \"../utils/Color\";\n\nconst colors = [\n  \"#fad390\",\n  \"#81ecec\",\n  \"#ffffff\",\n  \"#badc58\",\n  \"#f9ca24\",\n  \"#FEA47F\"\n];\nexport default {\n  name: \"SquareParticles\",\n  components: {\n    CanvasComp\n  },\n  props: {\n    canvas: Object,\n    bg: Boolean,\n    color: String,\n    num: Number,\n    config: {}\n  },\n  methods: {\n    canvasInited(canvas) {\n      this.createProton(canvas);\n      RAFManager.add(this.renderProton);\n      if (this.color) {\n        canvas.style.backgroundColor = this.color;\n      }\n    },\n    canvasResize({ width, height }) {\n      const dis = 150;\n      this.crossZoneBehaviour.zone.width = width + 2 * dis;\n      this.crossZoneBehaviour.zone.height = height + 2 * dis;\n      this.proton.renderers[0].resize(width, height);\n    },\n    canvasMouseDown(e) {},\n\n    createProton(canvas) {\n      const width = canvas.width;\n      const height = canvas.height;\n      this.proton = new Proton();\n      const emitter = new Proton.Emitter();\n      emitter.rate = new Proton.Rate(this.num ? this.num : 50);\n      emitter.damping = 0;\n\n      emitter.addInitialize(new Proton.Mass(1));\n      emitter.addInitialize(new Proton.Radius(4, 70));\n      emitter.addInitialize(\n        new Proton.Velocity(new Proton.Span(4, 12), 180, \"polar\")\n      );\n      emitter.addInitialize(\n        new Proton.Position(new Proton.LineZone(0, 0, canvas.width, 0))\n      );\n\n      const dis = 150;\n      const crossZoneBehaviour = new Proton.CrossZone(\n        new Proton.RectZone(\n          0 - dis,\n          0 - dis,\n          canvas.width + 2 * dis,\n          canvas.height + 2 * dis\n        ),\n        \"cross\"\n      );\n      emitter.addBehaviour(crossZoneBehaviour);\n      emitter.addBehaviour(new Proton.Alpha(Proton.getSpan(0.1, 0.55)));\n      emitter.addBehaviour(new Proton.Color(colors));\n\n      emitter.emit(\"once\");\n      this.proton.addEmitter(emitter);\n      const renderer = this.createRenderer(canvas);\n      this.proton.addRenderer(renderer);\n\n      this.crossZoneBehaviour = crossZoneBehaviour;\n      emitter.preEmit(2);\n    },\n    createRenderer(canvas) {\n      const context = canvas.getContext(\"2d\");\n      const renderer = new Proton.CustomRenderer();\n\n      renderer.onProtonUpdate = () => {\n        context.clearRect(0, 0, canvas.width, canvas.height);\n      };\n\n      renderer.onParticleCreated = particle => {\n        const w = particle.radius || 60;\n        const h = Proton.MathUtil.randomAToB(100, 200, \"int\");\n        particle.data.w = w;\n        particle.data.h = h;\n      };\n\n      renderer.onParticleUpdate = particle => {\n        const w = particle.data.w;\n        const h = particle.data.h;\n        context.save();\n        context.globalAlpha = particle.alpha;\n        context.fillStyle = particle.color;\n\n        context.translate(particle.p.x, particle.p.y);\n        context.rotate(Proton.MathUtil.degreeTransform(particle.rotation));\n        context.translate(-particle.p.x, -particle.p.y);\n\n        context.beginPath();\n        context.rect(particle.p.x - w / 2, particle.p.y - h / 2, w, h);\n\n        context.closePath();\n        context.fill();\n        context.globalAlpha = 1;\n        context.restore();\n      };\n\n      return renderer;\n    },\n    renderProton() {\n      this.proton && this.proton.update();\n    }\n  },\n  beforeDestroy() {\n    try {\n      this.proton.destroy();\n      RAFManager.remove(this.renderProton);\n    } catch (e) {}\n  }\n};\n</script>\n"]}]}