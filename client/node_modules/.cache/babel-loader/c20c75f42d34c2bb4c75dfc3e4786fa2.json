{"remainingRequest":"G:\\1WORK\\cockrid34r\\client\\node_modules\\babel-loader\\lib\\index.js!G:\\1WORK\\cockrid34r\\client\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!G:\\1WORK\\cockrid34r\\client\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!G:\\1WORK\\cockrid34r\\client\\node_modules\\particles-bg-vue\\src\\particles-bg\\particles\\LinesParticles.vue?vue&type=script&lang=js&","dependencies":[{"path":"G:\\1WORK\\cockrid34r\\client\\node_modules\\particles-bg-vue\\src\\particles-bg\\particles\\LinesParticles.vue","mtime":1660813555614},{"path":"G:\\1WORK\\cockrid34r\\client\\babel.config.js","mtime":1660813200039},{"path":"G:\\1WORK\\cockrid34r\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1660813139587},{"path":"G:\\1WORK\\cockrid34r\\client\\node_modules\\babel-loader\\lib\\index.js","mtime":1660813146986},{"path":"G:\\1WORK\\cockrid34r\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1660813139587},{"path":"G:\\1WORK\\cockrid34r\\client\\node_modules\\vue-loader\\lib\\index.js","mtime":1660813157465}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IENhbnZhc0NvbXAgZnJvbSAiLi9DYW52YXNDb21wLnZ1ZSI7CmltcG9ydCBQcm90b24gZnJvbSAicHJvdG9uLWVuZ2luZSI7CmltcG9ydCBSQUZNYW5hZ2VyIGZyb20gInJhZi1tYW5hZ2VyIjsKaW1wb3J0IHsgZ2V0Q29sb3IgfSBmcm9tICIuLi91dGlscy9Db2xvciI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiTGluZXNQYXJ0aWNsZXMiLAogIGNvbXBvbmVudHM6IHsKICAgIENhbnZhc0NvbXAKICB9LAogIHByb3BzOiB7CiAgICBjYW52YXM6IE9iamVjdCwKICAgIGJnOiBCb29sZWFuLAogICAgY29sb3I6IFN0cmluZywKICAgIG51bTogTnVtYmVyLAogICAgY29uZmlnOiB7fQogIH0sCiAgbWV0aG9kczogewogICAgY2FudmFzSW5pdGVkKGNhbnZhcykgewogICAgICB0aGlzLmNyZWF0ZVByb3RvbihjYW52YXMpOwogICAgICBSQUZNYW5hZ2VyLmFkZCh0aGlzLnJlbmRlclByb3Rvbik7CgogICAgICBpZiAodGhpcy5jb2xvcikgewogICAgICAgIGNhbnZhcy5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSB0aGlzLmNvbG9yOwogICAgICB9CiAgICB9LAoKICAgIGNhbnZhc1Jlc2l6ZSh7CiAgICAgIHdpZHRoLAogICAgICBoZWlnaHQKICAgIH0pIHsKICAgICAgdGhpcy5jcm9zc1pvbmVCZWhhdmlvdXIuem9uZS53aWR0aCA9IHdpZHRoOwogICAgICB0aGlzLmNyb3NzWm9uZUJlaGF2aW91ci56b25lLmhlaWdodCA9IGhlaWdodDsKICAgICAgdGhpcy5wcm90b24ucmVuZGVyZXJzWzBdLnJlc2l6ZSh3aWR0aCwgaGVpZ2h0KTsKICAgIH0sCgogICAgY2FudmFzTW91c2VEb3duKGUpIHt9LAoKICAgIGNyZWF0ZVByb3RvbihjYW52YXMpIHsKICAgICAgY29uc3Qgd2lkdGggPSBjYW52YXMud2lkdGg7CiAgICAgIGNvbnN0IGhlaWdodCA9IGNhbnZhcy5oZWlnaHQ7CiAgICAgIHRoaXMucHJvdG9uID0gbmV3IFByb3RvbigpOwogICAgICBjb25zdCBlbWl0dGVyID0gbmV3IFByb3Rvbi5FbWl0dGVyKCk7CiAgICAgIGVtaXR0ZXIuZGFtcGluZyA9IDAuMDA4OwogICAgICBlbWl0dGVyLnJhdGUgPSBuZXcgUHJvdG9uLlJhdGUodGhpcy5udW0gPyB0aGlzLm51bSA6IDI1MCk7CiAgICAgIGVtaXR0ZXIuYWRkSW5pdGlhbGl6ZShuZXcgUHJvdG9uLk1hc3MoMSkpOwogICAgICBlbWl0dGVyLmFkZEluaXRpYWxpemUobmV3IFByb3Rvbi5SYWRpdXMoNCkpOwogICAgICBlbWl0dGVyLmFkZEluaXRpYWxpemUobmV3IFByb3Rvbi5WZWxvY2l0eShuZXcgUHJvdG9uLlNwYW4oMS41KSwgbmV3IFByb3Rvbi5TcGFuKDAsIDM2MCksICJwb2xhciIpKTsKICAgICAgY29uc3QgbW91c2VPYmogPSB7CiAgICAgICAgeDogd2lkdGggLyAyLAogICAgICAgIHk6IGhlaWdodCAvIDIKICAgICAgfTsKICAgICAgY29uc3QgYXR0cmFjdGlvbkJlaGF2aW91ciA9IG5ldyBQcm90b24uQXR0cmFjdGlvbihtb3VzZU9iaiwgMCwgMCk7CiAgICAgIGNvbnN0IGNyb3NzWm9uZUJlaGF2aW91ciA9IG5ldyBQcm90b24uQ3Jvc3Nab25lKG5ldyBQcm90b24uUmVjdFpvbmUoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KSwgImNyb3NzIik7CiAgICAgIGVtaXR0ZXIuYWRkQmVoYXZpb3VyKG5ldyBQcm90b24uQ29sb3IoInJhbmRvbSIpKTsKICAgICAgZW1pdHRlci5hZGRCZWhhdmlvdXIoYXR0cmFjdGlvbkJlaGF2aW91ciwgY3Jvc3Nab25lQmVoYXZpb3VyKTsKICAgICAgZW1pdHRlci5hZGRCZWhhdmlvdXIobmV3IFByb3Rvbi5SYW5kb21EcmlmdCgxMCwgMTAsIDAuMDUpKTsKICAgICAgZW1pdHRlci5wLnggPSBjYW52YXMud2lkdGggLyAyOwogICAgICBlbWl0dGVyLnAueSA9IGNhbnZhcy5oZWlnaHQgLyAyOwogICAgICBlbWl0dGVyLmVtaXQoIm9uY2UiKTsKICAgICAgdGhpcy5wcm90b24uYWRkRW1pdHRlcihlbWl0dGVyKTsKICAgICAgdGhpcy5wcm90b24uYWRkUmVuZGVyZXIodGhpcy5jcmVhdGVSZW5kZXJlcihjYW52YXMpKTsKICAgICAgdGhpcy5jcm9zc1pvbmVCZWhhdmlvdXIgPSBjcm9zc1pvbmVCZWhhdmlvdXI7CiAgICB9LAoKICAgIGNyZWF0ZVJlbmRlcmVyKGNhbnZhcykgewogICAgICBjb25zdCBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoIjJkIik7CiAgICAgIGNvbnN0IHJlbmRlcmVyID0gbmV3IFByb3Rvbi5DYW52YXNSZW5kZXJlcihjYW52YXMpOwoKICAgICAgcmVuZGVyZXIub25Qcm90b25VcGRhdGUgPSAoKSA9PiB7CiAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSBnZXRDb2xvcih0aGlzLmNvbG9yLCAwLjAyKSB8fCAicmdiYSgwLCAwLCAwLCAwLjAyKSI7CiAgICAgICAgY29udGV4dC5maWxsUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpOwogICAgICB9OwoKICAgICAgcmVuZGVyZXIub25QYXJ0aWNsZVVwZGF0ZSA9IGZ1bmN0aW9uIChwYXJ0aWNsZSkgewogICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7CiAgICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9IHBhcnRpY2xlLmNvbG9yOwogICAgICAgIGNvbnRleHQubGluZVdpZHRoID0gMTsKICAgICAgICBjb250ZXh0Lm1vdmVUbyhwYXJ0aWNsZS5vbGQucC54LCBwYXJ0aWNsZS5vbGQucC55KTsKICAgICAgICBjb250ZXh0LmxpbmVUbyhwYXJ0aWNsZS5wLngsIHBhcnRpY2xlLnAueSk7CiAgICAgICAgY29udGV4dC5jbG9zZVBhdGgoKTsKICAgICAgICBjb250ZXh0LnN0cm9rZSgpOwogICAgICB9OwoKICAgICAgcmV0dXJuIHJlbmRlcmVyOwogICAgfSwKCiAgICByZW5kZXJQcm90b24oKSB7CiAgICAgIHRoaXMucHJvdG9uICYmIHRoaXMucHJvdG9uLnVwZGF0ZSgpOwogICAgfQoKICB9LAoKICBiZWZvcmVEZXN0cm95KCkgewogICAgdHJ5IHsKICAgICAgdGhpcy5wcm90b24uZGVzdHJveSgpOwogICAgICBSQUZNYW5hZ2VyLnJlbW92ZSh0aGlzLnJlbmRlclByb3Rvbik7CiAgICB9IGNhdGNoIChlKSB7fQogIH0KCn07"},{"version":3,"mappings":"AAYA;AACA;AACA;AACA;AAEA;EACAA,sBADA;EAEAC;IACAC;EADA,CAFA;EAKAC;IACAC,cADA;IAEAC,WAFA;IAGAC,aAHA;IAIAC,WAJA;IAKAC;EALA,CALA;EAYAC;IACAC;MACA;MACAC;;MACA;QACAP;MACA;IACA,CAPA;;IAQAQ;MAAAC;MAAAC;IAAA;MACA;MACA;MACA;IACA,CAZA;;IAaAC,qBAbA;;IAeAC;MACA;MACA;MACA;MAEA;MACAC;MACAA;MACAA;MACAA;MACAA,sBACA,oBACA,oBADA,EAEA,uBAFA,EAGA,OAHA,CADA;MAQA;QACAC,YADA;QAEAC;MAFA;MAIA;MACA,gDACA,sDADA,EAEA,OAFA;MAIAF;MACAA;MACAA;MACAA;MACAA;MACAA;MAEA;MACA;MACA;IACA,CApDA;;IAqDAG;MACA;MACA;;MACAC;QACAC,oBACAC,mDADA;QAEAD;MACA,CAJA;;MAMAD;QACAC;QACAA;QACAA;QACAA;QACAA;QACAA;QACAA;MACA,CARA;;MAUA;IACA,CAzEA;;IA0EAE;MACA;IACA;;EA5EA,CAZA;;EA0FAC;IACA;MACA;MACAd;IACA,CAHA,CAGA;EACA;;AA/FA","names":["name","components","CanvasComp","props","canvas","bg","color","num","config","methods","canvasInited","RAFManager","canvasResize","width","height","canvasMouseDown","createProton","emitter","x","y","createRenderer","renderer","context","getColor","renderProton","beforeDestroy"],"sourceRoot":"node_modules/particles-bg-vue/src/particles-bg/particles","sources":["LinesParticles.vue"],"sourcesContent":["<template>\n  <canvas-comp\n    :bg=\"bg\"\n    :canvas=\"canvas\"\n    global-composite-operation=\"source-over\"\n    v-on:canvasInited=\"canvasInited\"\n    v-on:canvasResize=\"canvasResize\"\n    v-on:canvasMouseDown=\"canvasMouseDown\"\n  />\n</template>\n\n<script>\nimport CanvasComp from \"./CanvasComp.vue\";\nimport Proton from \"proton-engine\";\nimport RAFManager from \"raf-manager\";\nimport { getColor } from \"../utils/Color\";\n\nexport default {\n  name: \"LinesParticles\",\n  components: {\n    CanvasComp\n  },\n  props: {\n    canvas: Object,\n    bg: Boolean,\n    color: String,\n    num: Number,\n    config: {}\n  },\n  methods: {\n    canvasInited(canvas) {\n      this.createProton(canvas);\n      RAFManager.add(this.renderProton);\n      if (this.color) {\n        canvas.style.backgroundColor = this.color;\n      }\n    },\n    canvasResize({ width, height }) {\n      this.crossZoneBehaviour.zone.width = width;\n      this.crossZoneBehaviour.zone.height = height;\n      this.proton.renderers[0].resize(width, height);\n    },\n    canvasMouseDown(e) {},\n\n    createProton(canvas) {\n      const width = canvas.width;\n      const height = canvas.height;\n      this.proton = new Proton();\n\n      const emitter = new Proton.Emitter();\n      emitter.damping = 0.008;\n      emitter.rate = new Proton.Rate(this.num ? this.num : 250);\n      emitter.addInitialize(new Proton.Mass(1));\n      emitter.addInitialize(new Proton.Radius(4));\n      emitter.addInitialize(\n        new Proton.Velocity(\n          new Proton.Span(1.5),\n          new Proton.Span(0, 360),\n          \"polar\"\n        )\n      );\n      \n      const mouseObj = {\n        x: width / 2,\n        y: height / 2\n      };\n      const attractionBehaviour = new Proton.Attraction(mouseObj, 0, 0);\n      const crossZoneBehaviour = new Proton.CrossZone(\n        new Proton.RectZone(0, 0, canvas.width, canvas.height),\n        \"cross\"\n      );\n      emitter.addBehaviour(new Proton.Color(\"random\"));\n      emitter.addBehaviour(attractionBehaviour, crossZoneBehaviour);\n      emitter.addBehaviour(new Proton.RandomDrift(10, 10, 0.05));\n      emitter.p.x = canvas.width / 2;\n      emitter.p.y = canvas.height / 2;\n      emitter.emit(\"once\");\n\n      this.proton.addEmitter(emitter);\n      this.proton.addRenderer(this.createRenderer(canvas));\n      this.crossZoneBehaviour = crossZoneBehaviour;\n    },\n    createRenderer(canvas) {\n      const context = canvas.getContext(\"2d\");\n      const renderer = new Proton.CanvasRenderer(canvas);\n      renderer.onProtonUpdate = () => {\n        context.fillStyle =\n          getColor(this.color, 0.02) || \"rgba(0, 0, 0, 0.02)\";\n        context.fillRect(0, 0, canvas.width, canvas.height);\n      };\n\n      renderer.onParticleUpdate = function(particle) {\n        context.beginPath();\n        context.strokeStyle = particle.color;\n        context.lineWidth = 1;\n        context.moveTo(particle.old.p.x, particle.old.p.y);\n        context.lineTo(particle.p.x, particle.p.y);\n        context.closePath();\n        context.stroke();\n      };\n\n      return renderer;\n    },\n    renderProton() {\n      this.proton && this.proton.update();\n    }\n  },\n  beforeDestroy() {\n    try {\n      this.proton.destroy();\n      RAFManager.remove(this.renderProton);\n    } catch (e) {}\n  }\n};\n</script>\n"]}]}